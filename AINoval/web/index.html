<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <base href="$FLUTTER_BASE_HREF">
  
  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="A new Flutter project.">
  
  <!-- å¼ºåˆ¶ä½¿ç”¨HTMLæ¸²æŸ“å™¨ï¼Œé¿å…CanvasKitçš„7MBä¸‹è½½ -->
  <meta name="flutter-web-renderer" content="html">
  
  <!-- ğŸš€ æ€§èƒ½ä¼˜åŒ–ï¼šèµ„æºé¢„åŠ è½½ -->
  <link rel="preload" href="/main.dart.js" as="script">
  <link rel="preload" href="/main.dart.js_1.part.js" as="script">
  <link rel="preload" href="/main.dart.js_2.part.js" as="script">
  <link rel="preload" href="/flutter.js" as="script">
  <link rel="preload" href="/flutter_bootstrap.js" as="script">
  
  <!-- ğŸŒ CDN é¢„è¿æ¥ -->
  <link rel="preconnect" href="https://maliangwriter.com">
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <!-- ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ– -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="ainoval">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>ainoval</title>
  <link rel="manifest" href="manifest.json">
  
  <style>
    /* ğŸ¨ å…³é”®CSSå†…è”ï¼Œå‡å°‘æ¸²æŸ“é˜»å¡ */
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans SC', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      overflow: hidden;
    }
    
    /* âœ¨ åŠ è½½å®¹å™¨ */
    .loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    /* ğŸ¯ ä¸»è¦å†…å®¹å®¹å™¨ */
    .loading-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: fadeInUp 0.8s ease-out;
    }
    
    /* ğŸ–Šï¸ AIå†™ä½œå›¾æ ‡ */
    .ai-icon {
      width: 80px;
      height: 80px;
      margin-bottom: 20px;
      animation: float 3s ease-in-out infinite;
    }
    
    .ai-icon svg {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 4px 20px rgba(255, 255, 255, 0.3));
    }
    
    /* ğŸ“ åº”ç”¨æ ‡é¢˜ */
    .app-title {
      font-size: 28px;
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 8px;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }
    
    /* ğŸ’­ å‰¯æ ‡é¢˜ */
    .app-subtitle {
      font-size: 16px;
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 40px;
      font-weight: 400;
    }
    
    /* ğŸ“Š è¿›åº¦æ¡å®¹å™¨ */
    .progress-container {
      width: 300px;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 20px;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
    }
    
    /* ğŸ“ˆ è¿›åº¦æ¡ */
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #fff, #f8f9fa);
      border-radius: 10px;
      width: 0%;
      animation: progressFlow 2.5s ease-in-out infinite;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    }
    
    /* ğŸ’¬ åŠ è½½æ–‡æœ¬ */
    .loading-text {
      color: rgba(255, 255, 255, 0.9);
      font-size: 14px;
      font-weight: 500;
      animation: pulse 2s ease-in-out infinite;
    }
    
    /* ğŸª åŠ¨ç”»å…³é”®å¸§ */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes float {
      0%, 100% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-10px);
      }
    }
    
    @keyframes progressFlow {
      0% {
        width: 0%;
        opacity: 0.5;
      }
      50% {
        width: 70%;
        opacity: 1;
      }
      100% {
        width: 100%;
        opacity: 0.8;
      }
    }
    
    @keyframes pulse {
      0%, 100% {
        opacity: 0.7;
      }
      50% {
        opacity: 1;
      }
    }
    
    /* ğŸ“± å“åº”å¼è®¾è®¡ */
    @media (max-width: 480px) {
      .ai-icon {
        width: 60px;
        height: 60px;
      }
      
      .app-title {
        font-size: 24px;
      }
      
      .app-subtitle {
        font-size: 14px;
      }
      
      .progress-container {
        width: 250px;
      }
    }
    
    /* ğŸŒŸ ç²’å­èƒŒæ™¯æ•ˆæœ */
    .particles {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: -1;
    }
    
    .particle {
      position: absolute;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      animation: particleFloat 6s linear infinite;
    }
    
    @keyframes particleFloat {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <!-- âœ¨ ç°ä»£åŒ–åŠ è½½ç•Œé¢ -->
  <div id="loading" class="loading">
    <!-- ğŸŒŸ ç²’å­èƒŒæ™¯ -->
    <div class="particles" id="particles"></div>
    
    <!-- ğŸ¯ ä¸»è¦å†…å®¹ -->
    <div class="loading-content">
      <!-- ğŸ¤– AIå†™ä½œå›¾æ ‡ -->
      <div class="ai-icon">
        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- å¤§è„‘è½®å»“ -->
          <path d="M25 35C25 25 35 15 45 15C50 10 60 10 65 15C75 15 85 25 85 35C85 40 80 45 75 45C80 50 85 55 85 65C85 75 75 85 65 85C60 90 50 90 45 85C35 85 25 75 25 65C25 60 30 55 35 55C30 50 25 45 25 35Z" 
                fill="url(#brainGradient)" stroke="rgba(255,255,255,0.8)" stroke-width="2"/>
          
          <!-- ç¥ç»ç½‘ç»œçº¿æ¡ -->
          <g stroke="rgba(255,255,255,0.6)" stroke-width="1.5" fill="none">
            <path d="M35 30L45 40L55 35L65 45" opacity="0.8">
              <animate attributeName="opacity" values="0.3;0.8;0.3" dur="2s" repeatCount="indefinite"/>
            </path>
            <path d="M40 50L50 45L60 55L70 50" opacity="0.6">
              <animate attributeName="opacity" values="0.3;0.8;0.3" dur="2.5s" repeatCount="indefinite"/>
            </path>
            <path d="M30 60L45 65L55 60L75 65" opacity="0.7">
              <animate attributeName="opacity" values="0.3;0.8;0.3" dur="3s" repeatCount="indefinite"/>
            </path>
          </g>
          
          <!-- ç¬”å°–å›¾æ ‡ -->
          <g transform="translate(60, 55)">
            <path d="M0 0L8 8L4 12L-4 4Z" fill="rgba(255,255,255,0.9)">
              <animateTransform attributeName="transform" type="rotate" 
                values="0 2 6;10 2 6;0 2 6" dur="3s" repeatCount="indefinite"/>
            </path>
            <path d="M4 12L6 20" stroke="rgba(255,255,255,0.7)" stroke-width="2"/>
          </g>
          
          <!-- å‘å…‰æ•ˆæœ -->
          <defs>
            <linearGradient id="brainGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:rgba(255,255,255,0.9)"/>
              <stop offset="50%" style="stop-color:rgba(255,255,255,0.7)"/>
              <stop offset="100%" style="stop-color:rgba(255,255,255,0.5)"/>
            </linearGradient>
            <filter id="glow">
              <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
              <feMerge> 
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
        </svg>
      </div>
      
      <!-- ğŸ“ åº”ç”¨ä¿¡æ¯ -->
      <h1 class="app-title">AI Novel</h1>
      <p class="app-subtitle">æ™ºèƒ½å°è¯´åˆ›ä½œåŠ©æ‰‹</p>
      
      <!-- ğŸ“Š è¿›åº¦æ¡ -->
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
      
      <!-- ğŸ’¬ çŠ¶æ€æ–‡æœ¬ -->
      <p class="loading-text" id="loadingText">æ­£åœ¨åˆå§‹åŒ–åº”ç”¨...</p>
    </div>
  </div>
  
  <script>
    // ğŸš€ æ€§èƒ½ç›‘æ§
    window.performance.mark('app-start');
    
    // ğŸŒŸ åˆ›å»ºç²’å­èƒŒæ™¯æ•ˆæœ
    function createParticles() {
      const particles = document.getElementById('particles');
      const particleCount = 15;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        // éšæœºå¤§å°å’Œä½ç½®
        const size = Math.random() * 4 + 2;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 6 + 's';
        particle.style.animationDuration = (Math.random() * 3 + 4) + 's';
        
        particles.appendChild(particle);
      }
    }
    
    // ğŸ“ˆ æ¨¡æ‹Ÿè¿›åº¦æ¡è¿›åº¦
    function simulateProgress() {
      const progressBar = document.getElementById('progressBar');
      const loadingText = document.getElementById('loadingText');
      let progress = 0;
      
      const loadingSteps = [
        'æ­£åœ¨åŠ è½½æ ¸å¿ƒæ¨¡å—...',
        'æ­£åœ¨åˆå§‹åŒ–AIå¼•æ“...',
        'æ­£åœ¨è¿æ¥æœåŠ¡å™¨...',
        'æ­£åœ¨å‡†å¤‡å†™ä½œç¯å¢ƒ...',
        'å³å°†å®Œæˆ...'
      ];
      
      const progressInterval = setInterval(() => {
        progress += Math.random() * 15 + 5;
        if (progress > 95) progress = 95;
        
        progressBar.style.width = progress + '%';
        
        // æ›´æ–°åŠ è½½æ–‡æœ¬
        const stepIndex = Math.floor((progress / 100) * loadingSteps.length);
        if (stepIndex < loadingSteps.length) {
          loadingText.textContent = loadingSteps[stepIndex];
        }
        
        if (progress >= 95) {
          clearInterval(progressInterval);
        }
      }, 200);
      
      return progressInterval;
    }
    
    // ğŸ¯ é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      createParticles();
      const progressInterval = simulateProgress();
      
      // âœ¨ éšè—åŠ è½½æŒ‡ç¤ºå™¨
      window.addEventListener('flutter-first-frame', function() {
        const progressBar = document.getElementById('progressBar');
        const loadingText = document.getElementById('loadingText');
        
        // å®Œæˆè¿›åº¦æ¡
        progressBar.style.width = '100%';
        loadingText.textContent = 'åŠ è½½å®Œæˆï¼';
        
        // å»¶è¿Ÿéšè—åŠ è½½ç•Œé¢ï¼Œç»™ç”¨æˆ·å®Œæ•´çš„ä½“éªŒ
        setTimeout(() => {
          const loading = document.getElementById('loading');
          loading.style.opacity = '0';
          loading.style.transition = 'opacity 0.5s ease-out';
          
          setTimeout(() => {
            loading.style.display = 'none';
          }, 500);
        }, 800);
        
        // æ€§èƒ½ç›‘æ§
        window.performance.mark('app-ready');
        window.performance.measure('app-boot', 'app-start', 'app-ready');
        console.log('ğŸš€ App boot time:', window.performance.getEntriesByName('app-boot')[0].duration + 'ms');
        
        clearInterval(progressInterval);
      });
    });
    
    // â±ï¸ è¶…æ—¶å¤‡ç”¨æ–¹æ¡ˆ
    setTimeout(function() {
      const loading = document.getElementById('loading');
      if (loading && loading.style.display !== 'none') {
        // å¦‚æœè¶…æ—¶ï¼Œä¹Ÿè¦ç»™ä¸€ä¸ªä¼˜é›…çš„é€€å‡º
        loading.style.opacity = '0';
        loading.style.transition = 'opacity 0.5s ease-out';
        setTimeout(() => {
          loading.style.display = 'none';
        }, 500);
        console.warn('âš ï¸ Loading timeout - hiding loading screen');
      }
    }, 12000);
  </script>
  
  <script src="flutter_bootstrap.js" async></script>
</body>
</html>
