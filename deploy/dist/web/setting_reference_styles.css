/* è®¾å®šå¼•ç”¨æ ·å¼ - å®ç°å¤šç‚¹ä¸‹åˆ’çº¿æ•ˆæœï¼Œæ— é»˜è®¤èƒŒæ™¯è‰² */

/* AIç”Ÿæˆå†…å®¹æ ·å¼ - è“è‰²æ–‡å­—æ ‡è¯† */
.ql-editor .ai-generated,
.ql-editor span[style*="ai-generated"],
.ql-editor span[data-ai-generated] {
  color: #2196F3 !important; /* è“è‰²æ–‡å­— */
  position: relative;
  transition: color 0.2s ease;
  font-style: normal;
}

/* AIç”Ÿæˆå†…å®¹çš„åº•éƒ¨æ ‡è¯†çº¿ */
.ql-editor .ai-generated::after,
.ql-editor span[style*="ai-generated"]::after,
.ql-editor span[data-ai-generated]::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -1px;
  height: 1px;
  background: linear-gradient(to right, #2196F3, #64B5F6);
  opacity: 0.6;
  pointer-events: none;
}

/* AIç”Ÿæˆå†…å®¹æ‚¬åœæ•ˆæœ */
.ql-editor .ai-generated:hover,
.ql-editor span[style*="ai-generated"]:hover,
.ql-editor span[data-ai-generated]:hover {
  color: #1976D2 !important; /* æ·±è“è‰² */
  background-color: #E3F2FD !important; /* æµ…è“è‰²èƒŒæ™¯ */
  border-radius: 2px;
}

.ql-editor .ai-generated:hover::after,
.ql-editor span[style*="ai-generated"]:hover::after,
.ql-editor span[data-ai-generated]:hover::after {
  opacity: 1;
  background: linear-gradient(to right, #1976D2, #42A5F5);
}

/* æ·±è‰²æ¨¡å¼ä¸‹çš„AIç”Ÿæˆå†…å®¹æ ·å¼ */
@media (prefers-color-scheme: dark) {
  .ql-editor .ai-generated,
  .ql-editor span[style*="ai-generated"],
  .ql-editor span[data-ai-generated] {
    color: #64B5F6 !important; /* äº®è“è‰² */
  }
  
  .ql-editor .ai-generated::after,
  .ql-editor span[style*="ai-generated"]::after,
  .ql-editor span[data-ai-generated]::after {
    background: linear-gradient(to right, #64B5F6, #90CAF9);
  }
  
  .ql-editor .ai-generated:hover,
  .ql-editor span[style*="ai-generated"]:hover,
  .ql-editor span[data-ai-generated]:hover {
    color: #90CAF9 !important;
    background-color: #0D47A1 !important; /* æ·±è“è‰²èƒŒæ™¯ */
  }
  
  .ql-editor .ai-generated:hover::after,
  .ql-editor span[style*="ai-generated"]:hover::after,
  .ql-editor span[data-ai-generated]:hover::after {
    background: linear-gradient(to right, #90CAF9, #BBDEFB);
  }
}

/* QuillEditorä¸­çš„è®¾å®šå¼•ç”¨æ–‡æœ¬ - ä½¿ç”¨ç±»ååŒ¹é… */
.ql-editor .setting-reference {
  position: relative;
  text-decoration: none !important;
  cursor: pointer;
  transition: background-color 0.2s ease;
  /* ğŸ¯ ç§»é™¤é»˜è®¤èƒŒæ™¯è‰²ï¼Œåªåœ¨æ‚¬åœæ—¶æ˜¾ç¤º */
}

/* ğŸ¯ åŒ¹é…Flutter Quillæ¸²æŸ“çš„å¸¦è‡ªå®šä¹‰å±æ€§çš„å…ƒç´  */
.ql-editor span[style*="setting-reference"],
.ql-editor span[style*="setting-style"],
.ql-editor span[data-setting-reference] {
  position: relative;
  cursor: pointer;
  transition: background-color 0.2s ease;
  /* ç§»é™¤é»˜è®¤èƒŒæ™¯è‰² */
  background-color: transparent !important;
}

/* å¤šç‚¹ä¸‹åˆ’çº¿æ•ˆæœ - é»˜è®¤æ˜¾ç¤º - åŒ¹é…Flutterçš„è‡ªå®šä¹‰å±æ€§ */
.ql-editor .setting-reference::after,
.ql-editor span[style*="setting-reference"]::after,
.ql-editor span[style*="setting-style"]::after,
.ql-editor span[data-setting-reference]::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -2px;
  height: 1px;
  background-image: repeating-linear-gradient(
    to right,
    #666,
    #666 3px,
    transparent 3px,
    transparent 7px
  );
  opacity: 0.7;
  pointer-events: none;
}

/* æ‚¬åœæ—¶çš„æ•ˆæœ - èƒŒæ™¯è‰² + æ›´æ˜æ˜¾çš„ä¸‹åˆ’çº¿ */
.ql-editor .setting-reference:hover,
.ql-editor span[style*="setting-reference"]:hover,
.ql-editor span[style*="setting-style"]:hover,
.ql-editor span[data-setting-reference]:hover {
  background-color: #FFF3CD !important;
  border-radius: 2px;
  cursor: pointer;
}

.ql-editor .setting-reference:hover::after,
.ql-editor span[style*="setting-reference"]:hover::after,
.ql-editor span[style*="setting-style"]:hover::after,
.ql-editor span[data-setting-reference]:hover::after {
  opacity: 1;
  background-image: repeating-linear-gradient(
    to right,
    #333,
    #333 3px,
    transparent 3px,
    transparent 7px
  );
}

/* ğŸ¯ å…¼å®¹æ€§ï¼šä¹ŸåŒ¹é…å¸¦ä¸‹åˆ’çº¿çš„è®¾å®šå¼•ç”¨æ–‡æœ¬ */
.ql-editor u[data-setting-reference],
.ql-editor span[style*="text-decoration: underline"][data-setting-reference],
.ql-editor span[style*="text-decoration-line: underline"][data-setting-reference] {
  position: relative;
  text-decoration: none !important;
  cursor: pointer;
  transition: background-color 0.2s ease;
  /* ğŸ¯ ç§»é™¤é»˜è®¤èƒŒæ™¯è‰² */
}

.ql-editor u[data-setting-reference]::after,
.ql-editor span[style*="text-decoration: underline"][data-setting-reference]::after,
.ql-editor span[style*="text-decoration-line: underline"][data-setting-reference]::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -2px;
  height: 1px;
  background-image: repeating-linear-gradient(
    to right,
    #666,
    #666 3px,
    transparent 3px,
    transparent 7px
  );
  opacity: 0.7;
  pointer-events: none;
}

.ql-editor u[data-setting-reference]:hover,
.ql-editor span[style*="text-decoration: underline"][data-setting-reference]:hover,
.ql-editor span[style*="text-decoration-line: underline"][data-setting-reference]:hover {
  background-color: #FFF3CD !important;
  border-radius: 2px;
  cursor: pointer;
}

.ql-editor u[data-setting-reference]:hover::after,
.ql-editor span[style*="text-decoration: underline"][data-setting-reference]:hover::after,
.ql-editor span[style*="text-decoration-line: underline"][data-setting-reference]:hover::after {
  opacity: 1;
  background-image: repeating-linear-gradient(
    to right,
    #333,
    #333 3px,
    transparent 3px,
    transparent 7px
  );
}

/* ğŸš¨ å¼ºåˆ¶ç§»é™¤åŸæœ‰çš„å§‹ç»ˆæ˜¾ç¤ºèƒŒæ™¯è‰²çš„æ ·å¼ */
.ql-editor span[style*="background-color: rgb(255, 243, 205)"],
.ql-editor span[style*="background-color: #FFF3CD"],
.ql-editor span[style*="background-color: #fff3cd"],
.ql-editor span[style*="background"],
.ql-editor span[style*="background-color"] {
  background-color: transparent !important;
  position: relative;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

/* è¿™äº›å…ƒç´ çš„å¤šç‚¹ä¸‹åˆ’çº¿æ•ˆæœ */
.ql-editor span[style*="background-color: rgb(255, 243, 205)"]::after,
.ql-editor span[style*="background-color: #FFF3CD"]::after,
.ql-editor span[style*="background-color: #fff3cd"]::after,
.ql-editor span[style*="background"]::after,
.ql-editor span[style*="background-color"]::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -2px;
  height: 1px;
  background-image: repeating-linear-gradient(
    to right,
    #666,
    #666 3px,
    transparent 3px,
    transparent 7px
  );
  opacity: 0.7;
  pointer-events: none;
}

/* æ‚¬åœæ—¶æ¢å¤èƒŒæ™¯è‰² */
.ql-editor span[style*="background-color: rgb(255, 243, 205)"]:hover,
.ql-editor span[style*="background-color: #FFF3CD"]:hover,
.ql-editor span[style*="background-color: #fff3cd"]:hover,
.ql-editor span[style*="background"]:hover,
.ql-editor span[style*="background-color"]:hover {
  background-color: #FFF3CD !important;
  border-radius: 2px;
  cursor: pointer;
}

/* æ‚¬åœæ—¶çš„ä¸‹åˆ’çº¿æ•ˆæœ */
.ql-editor span[style*="background-color: rgb(255, 243, 205)"]:hover::after,
.ql-editor span[style*="background-color: #FFF3CD"]:hover::after,
.ql-editor span[style*="background-color: #fff3cd"]:hover::after,
.ql-editor span[style*="background"]:hover::after,
.ql-editor span[style*="background-color"]:hover::after {
  opacity: 1;
  background-image: repeating-linear-gradient(
    to right,
    #333,
    #333 3px,
    transparent 3px,
    transparent 7px
  );
}

/* æ·±è‰²æ¨¡å¼æ”¯æŒ */
@media (prefers-color-scheme: dark) {
  .ql-editor .setting-reference::after,
  .ql-editor u[data-setting-reference]::after,
  .ql-editor span[style*="text-decoration: underline"][data-setting-reference]::after,
  .ql-editor span[style*="text-decoration-line: underline"][data-setting-reference]::after {
    background-image: repeating-linear-gradient(
      to right,
      #999,
      #999 3px,
      transparent 3px,
      transparent 7px
    );
  }
  
  .ql-editor .setting-reference:hover,
  .ql-editor u[data-setting-reference]:hover,
  .ql-editor span[style*="text-decoration: underline"][data-setting-reference]:hover,
  .ql-editor span[style*="text-decoration-line: underline"][data-setting-reference]:hover {
    background-color: #4A4A00 !important;
  }
  
  .ql-editor .setting-reference:hover::after,
  .ql-editor u[data-setting-reference]:hover::after,
  .ql-editor span[style*="text-decoration: underline"][data-setting-reference]:hover::after,
  .ql-editor span[style*="text-decoration-line: underline"][data-setting-reference]:hover::after {
    background-image: repeating-linear-gradient(
      to right,
      #CCC,
      #CCC 3px,
      transparent 3px,
      transparent 7px
    );
  }
}

/* ğŸ¯ ç¡®ä¿è®¾å®šå¼•ç”¨å…ƒç´ çš„é¼ æ ‡æ ·å¼ */
.ql-editor .setting-reference,
.ql-editor [data-setting-reference] {
  cursor: pointer !important;
}

.ql-editor .setting-reference:hover,
.ql-editor [data-setting-reference]:hover {
  cursor: pointer !important;
} 